@model MrKupido.Library.IDirection[]
@if (Model == null)
{
    <span class="unknown">Az étel elkészítése jelenleg ismeretlen</span>
}
else
{ 
    <ul id="directions">
        @{ 
            int i = 0;
            TimeSpan time = new TimeSpan();
           foreach (MrKupido.Library.IDirection dir in Model)
           {
            <li><span class="stage">
                @if (dir.Stage == MrKupido.Library.RecipeStage.Preparation)
                {
                    <img runat="server" src="~/Content/svg/stage_preparation.svg"  alt="@dir.Stage" width="25px" height="70px" />
                }
                else if (dir.Stage == MrKupido.Library.RecipeStage.Cooking)
                {
                    <img runat="server" src="~/Content/svg/stage_cooking.svg"  alt="@dir.Stage" width="25px" height="70px" />
                }
                else if (dir.Stage == MrKupido.Library.RecipeStage.Serving)
                {
                    <img runat="server" src="~/Content/svg/stage_serving.svg"  alt="@dir.Stage" width="25px" height="70px" />
                }
            </span>
                <span class="time">@Math.Floor(time.TotalHours).ToString("00"):@time.Minutes.ToString("00")</span>
                <span class="timer">
                    <img runat="server" src="~/Content/svg/d_clock@(i++%9).svg" alt="1 perc" width="60px" height="60px" />
                <span class="action">
                    @if (i % 6 == 0) 
                    {
                        <img runat="server" src="~/Content/svg/action_mix.svg" alt="1 perc" width="60px" height="60px" />
                    }
                    else if (i % 6 == 1)
                    {
                        <img runat="server" src="~/Content/svg/action_strech.svg" alt="1 perc" width="60px" height="60px" />
                    }
                    else if (i % 6 == 2)
                    {
                        <img runat="server" src="~/Content/svg/action_cover.svg" alt="1 perc" width="60px" height="60px" />
                    }
                    else if (i % 6 == 3)
                    {
                        <img runat="server" src="~/Content/svg/action_betesz.svg" alt="1 perc" width="60px" height="60px" />
                    }
                    else if (i % 6 == 4)
                    {
                        <img runat="server" src="~/Content/svg/action_rarak.svg" alt="1 perc" width="60px" height="60px" />
                    }
                    else if (i % 6 == 5)
                    {
                        <img runat="server" src="~/Content/svg/action_raszor.svg" alt="1 perc" width="60px" height="60px" />
                    }

                </span>
                </span>
                <div class="direction"><span class="directioncontent">@dir</span></div>
            </li>
                time = time + dir.TimeToComplete;
           }
        }
    </ul>
}